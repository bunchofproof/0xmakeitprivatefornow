# Backend Environment Configuration Example
# Copy this file to .env.development, .env.test, or .env.production
# and configure the values for your specific environment

# Environment Configuration
NODE_ENV=development
# Database Type Configuration
# Options: json (local JSON files) | prisma (production database)
# For development testing: json
# For production: prisma
DATABASE_TYPE=json


# Server Configuration
PORT=3001
API_PREFIX=/api
MAX_PAYLOAD_SIZE=500kb

# Database Configuration
DATABASE_URL=REPLACE_ME
POSTGRES_PRISMA_URL=REPLACE_ME
POSTGRES_URL_NON_POOLING=REPLACE_ME

# Discord Configuration
DISCORD_TOKEN=REPLACE_ME
CLIENT_ID=REPLACE_ME
GUILD_ID=REPLACE_ME
VERIFICATION_URL=REPLACE_ME

# Admin Role Configuration
ADMIN_ROLE_IDS=admin_role_id_1,admin_role_id_2

# Verification Configuration
MAX_VERIFICATION_ATTEMPTS=3
TOKEN_EXPIRY_MINUTES=15

# Verification type expiry times (in minutes) - fallback for backward compatibility
VERIFICATION_EXPIRY_PERSONHOOD=15
VERIFICATION_EXPIRY_AGE=10
VERIFICATION_EXPIRY_NATIONALITY=20
VERIFICATION_EXPIRY_RESIDENCY=25
VERIFICATION_EXPIRY_KYC=30

REMINDER_SCHEDULE=0 9 * * 1

# Security Configuration (Generate secure keys for production)
JWT_SECRET=REPLACE_ME
ENCRYPTION_KEY=REPLACE_ME

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://your-domain.com

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
# Stricter rate limiting for sensitive endpoints (Discord, webhooks, admin)
RATE_LIMIT_STRICT_WINDOW_MS=900000
RATE_LIMIT_STRICT_MAX_REQUESTS=5
# Rate limiting for proof verification endpoint (/api/verify/proof)
RATE_LIMIT_PROOF_WINDOW_MS=3600000
RATE_LIMIT_PROOF_MAX_REQUESTS=10

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json

# ZKPassport Configuration
ZK_PASSPORT_DEV_MODE=false
ZK_PASSPORT_DOMAIN=your-domain.com

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000

# Redis Configuration (for production rate limiting)
# REDIS_URL=redis://localhost:6379
# Or for cloud Redis (e.g., Redis Cloud, AWS ElastiCache):
# REDIS_URL=redis://username:password@hostname:port

# HMAC Authentication Configuration
# Shared secret for HMAC signature verification between services
# Generate a secure 32+ character secret for production use
HMAC_SECRET=REPLACE_ME